â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      ğŸ” ADMIN LOGIN SETUP & ACCESS                           â•‘
â•‘                       View Users & System Analytics                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  HOW TO CREATE ADMIN ACCOUNT:

Your CODDS system has admin features but you need to create an admin user first.

OPTION 1: Via MongoDB Compass (Easiest)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Open MongoDB Compass
  - Should already be running
  - Click on "codds" database
  - Click on "users" collection

Step 2: Insert Admin User
  - Right-click "users" collection
  - Click "Insert Document"
  - Copy this and paste:

{
  "username": "admin",
  "email": "admin@codds.com",
  "password": "$2b$12$abcdefghijklmnopqrstuvwxyz...",
  "role": "admin",
  "analysis_count": 0,
  "created_at": new Date()
}

âš ï¸  PROBLEM: Password needs to be hashed!

  Solution: Use Python to hash a password:
  
  python -c "
import bcrypt
password = b'AdminPassword123'
hashed = bcrypt.hashpw(password, bcrypt.gensalt(10))
print(hashed.decode())
  "
  
  Copy the output and paste it in the password field.

Step 3: Login with Admin Account
  1. Go to http://localhost:3000
  2. Enter:
     Username: admin
     Password: AdminPassword123
  3. Click Login

Step 4: Access Admin Dashboard
  After logging in, visit: http://localhost:3000/admin
  
  Or call the API endpoints directly:
  
  GET http://127.0.0.1:5000/api/admin/analytics
  Headers: Authorization: Bearer <your_token_here>
  
  GET http://127.0.0.1:5000/api/admin/users
  Headers: Authorization: Bearer <your_token_here>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

OPTION 2: Via Backend Python Script (More Secure)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Create a file: c:\Users\admin\Desktop\echo\create_admin.py

Content:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ from pymongo import MongoClient                                             â”‚
â”‚ from werkzeug.security import generate_password_hash                        â”‚
â”‚ import os                                                                   â”‚
â”‚ from dotenv import load_dotenv                                             â”‚
â”‚                                                                             â”‚
â”‚ load_dotenv()                                                              â”‚
â”‚                                                                             â”‚
â”‚ # Connect to MongoDB                                                        â”‚
â”‚ client = MongoClient(os.getenv('MONGODB_URI', 'mongodb://localhost:27017'))â”‚
â”‚ db = client['codds']                                                        â”‚
â”‚                                                                             â”‚
â”‚ # Check if admin exists                                                     â”‚
â”‚ admin = db.users.find_one({'username': 'admin'})                           â”‚
â”‚ if admin:                                                                   â”‚
â”‚     print("Admin user already exists!")                                     â”‚
â”‚     exit()                                                                  â”‚
â”‚                                                                             â”‚
â”‚ # Create admin user                                                         â”‚
â”‚ hashed_pwd = generate_password_hash('AdminPassword123', method='sha256')   â”‚
â”‚                                                                             â”‚
â”‚ admin_user = {                                                              â”‚
â”‚     'username': 'admin',                                                    â”‚
â”‚     'email': 'admin@codds.com',                                            â”‚
â”‚     'password': hashed_pwd,                                                â”‚
â”‚     'role': 'admin',                                                        â”‚
â”‚     'analysis_count': 0,                                                   â”‚
â”‚     'created_at': 'now'                                                    â”‚
â”‚ }                                                                           â”‚
â”‚                                                                             â”‚
â”‚ result = db.users.insert_one(admin_user)                                  â”‚
â”‚ print(f"âœ… Admin user created with ID: {result.inserted_id}")              â”‚
â”‚ print(f"Username: admin")                                                   â”‚
â”‚ print(f"Password: AdminPassword123")                                        â”‚
â”‚ print(f"Role: admin")                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Run it:
  python create_admin.py

Output:
  âœ… Admin user created with ID: ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ WHAT YOU CAN DO AS ADMIN:

1. VIEW ALL USERS
   
   Endpoint: GET http://127.0.0.1:5000/api/admin/users
   
   Headers:
   Authorization: Bearer <your_admin_token>
   
   Response:
   {
     "users": [
       {
         "username": "testuser",
         "email": "test@example.com",
         "analysis_count": 15,
         "role": "user",
         "created_at": "2026-01-15T10:30:00"
       }
     ]
   }

2. VIEW ANALYTICS
   
   Endpoint: GET http://127.0.0.1:5000/api/admin/analytics
   
   Response:
   {
     "total_users": 5,
     "active_users": 3,
     "total_analyses": 42,
     "average_originality": 68.5,
     "analyses_today": 8
   }

3. VIEW ALL REPORTS
   
   Endpoint: GET http://127.0.0.1:5000/api/admin/reports
   
   Response: All analysis records from all users

4. PROMOTE USER TO ADMIN
   
   Endpoint: POST http://127.0.0.1:5000/api/admin/users/<user_id>/promote
   
   This gives another user admin privileges

5. MANAGE SETTINGS
   
   Endpoint: PUT http://127.0.0.1:5000/api/admin/settings
   
   Configure system settings, API limits, features

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š HOW TO VIEW USER COUNT IN FRONTEND:

Currently, the admin dashboard endpoint is available via API.

To access admin features from the UI, you need to:

1. Build an Admin Dashboard page (optional, can use API directly)
2. Get your JWT token after login
3. Make API requests with the token

Quick API Test (using curl or Postman):

1. Login first to get token:
   POST http://127.0.0.1:5000/api/auth/login
   Body: { "username": "admin", "password": "AdminPassword123" }
   
   Response will include: "access_token": "eyJ0eX..."

2. Copy the token and use it:
   GET http://127.0.0.1:5000/api/admin/users
   Header: Authorization: Bearer eyJ0eX...
   
   You'll see all users!

3. View analytics:
   GET http://127.0.0.1:5000/api/admin/analytics
   Header: Authorization: Bearer eyJ0eX...
   
   You'll see user count, analysis count, and more!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”’ SECURITY TIPS:

1. Change the default admin password immediately
2. Don't share admin credentials
3. Use strong passwords (12+ characters, mix of upper/lower/numbers/symbols)
4. Only give admin role to trusted users
5. Regularly review user activity and logs
6. Keep JWT_SECRET secure in production
7. Use HTTPS in production
8. Enable database authentication (MongoDB credentials)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ QUICK START:

1. Open MongoDB Compass
2. Navigate to: codds â†’ users
3. Insert admin user document (use hashed password)
4. Login with admin credentials at http://localhost:3000
5. Call /api/admin/analytics to see user count
6. Done!

You now have full admin access to CODDS! ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
